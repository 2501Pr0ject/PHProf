{"prompt": "Comment implémenter un Aggregate Root DDD avec Doctrine et les Domain Events ?", "category": "ddd_advanced", "expected_concepts": ["Aggregate", "AggregateRoot", "DomainEvent", "invariant", "consistency boundary", "repository"]}
{"prompt": "Explique le pattern Outbox pour garantir la cohérence entre Doctrine et Messenger.", "category": "ddd_advanced", "expected_concepts": ["Outbox", "transactional", "eventual consistency", "idempotent", "relay"]}
{"prompt": "Comment implémenter l'Event Sourcing avec Symfony et Prooph ?", "category": "ddd_advanced", "expected_concepts": ["Event Store", "projection", "replay", "snapshot", "aggregate stream"]}
{"prompt": "Qu'est-ce qu'un Bounded Context en DDD et comment le structurer dans Symfony ?", "category": "ddd_advanced", "expected_concepts": ["Bounded Context", "ubiquitous language", "context map", "anti-corruption layer", "shared kernel"]}
{"prompt": "Comment implémenter des Value Objects immuables en PHP 8 ?", "category": "ddd_advanced", "expected_concepts": ["Value Object", "readonly", "immutable", "equals", "self-validation"]}
{"prompt": "Comment configurer Messenger avec plusieurs transports et le routing par message ?", "category": "messenger_advanced", "expected_concepts": ["transport", "routing", "async", "sync", "doctrine", "redis", "amqp"]}
{"prompt": "Explique le mécanisme de retry et failure transport dans Symfony Messenger.", "category": "messenger_advanced", "expected_concepts": ["retry", "failure transport", "RecoverableException", "multiplier", "max_retries", "dead letter"]}
{"prompt": "Comment implémenter un middleware Messenger personnalisé ?", "category": "messenger_advanced", "expected_concepts": ["MiddlewareInterface", "StackInterface", "envelope", "stamp", "HandleMessageMiddleware"]}
{"prompt": "Comment gérer les transactions distribuées avec Messenger et Doctrine ?", "category": "messenger_advanced", "expected_concepts": ["DoctrineTransactionMiddleware", "transactional outbox", "two-phase commit", "saga"]}
{"prompt": "Comment implémenter le pattern CQRS complet avec des projections read-model ?", "category": "cqrs_advanced", "expected_concepts": ["CommandBus", "QueryBus", "read model", "projection", "eventual consistency", "denormalization"]}
{"prompt": "Comment configurer le Second Level Cache de Doctrine ?", "category": "doctrine_advanced", "expected_concepts": ["Second Level Cache", "region", "cache mode", "READ_ONLY", "NONSTRICT_READ_WRITE", "invalidation"]}
{"prompt": "Comment optimiser Doctrine pour le batch processing de millions d'enregistrements ?", "category": "doctrine_advanced", "expected_concepts": ["iterate", "batch", "clear", "detach", "memory", "toIterable"]}
{"prompt": "Explique les stratégies d'héritage Doctrine (STI, CTI, MappedSuperclass).", "category": "doctrine_advanced", "expected_concepts": ["Single Table Inheritance", "Class Table Inheritance", "MappedSuperclass", "discriminator", "performance"]}
{"prompt": "Comment implémenter des filtres Doctrine globaux (Soft Delete, Multi-tenant) ?", "category": "doctrine_advanced", "expected_concepts": ["Filter", "SQLFilter", "addFilterConstraint", "enable", "parameter"]}
{"prompt": "Comment configurer des read replicas avec Doctrine ?", "category": "doctrine_advanced", "expected_concepts": ["replica", "primary", "MasterSlaveConnection", "keepReplica", "connection wrapper"]}
{"prompt": "Comment créer un custom Normalizer/Denormalizer pour API Platform ?", "category": "api_advanced", "expected_concepts": ["NormalizerInterface", "DenormalizerInterface", "context", "groups", "circular reference"]}
{"prompt": "Comment implémenter une pagination custom avec curseur dans API Platform ?", "category": "api_advanced", "expected_concepts": ["cursor", "pagination", "Paginator", "PartialPaginatorInterface", "keyset"]}
{"prompt": "Comment sécuriser une API avec JWT et refresh tokens dans Symfony ?", "category": "security_advanced", "expected_concepts": ["JWT", "refresh token", "lexik", "stateless", "blacklist", "rotation"]}
{"prompt": "Comment implémenter l'authentification OAuth2/OpenID Connect ?", "category": "security_advanced", "expected_concepts": ["OAuth2", "OpenID Connect", "authorization code", "PKCE", "scope", "claims"]}
{"prompt": "Comment protéger contre les attaques par timing dans la comparaison de tokens ?", "category": "security_advanced", "expected_concepts": ["timing attack", "hash_equals", "constant-time", "HMAC", "side-channel"]}
{"prompt": "Comment utiliser le Workflow component pour une machine à états complexe ?", "category": "symfony_advanced", "expected_concepts": ["Workflow", "places", "transitions", "marking", "guard", "state machine"]}
{"prompt": "Comment implémenter le Lock component pour la gestion de concurrence ?", "category": "symfony_advanced", "expected_concepts": ["Lock", "Semaphore", "Store", "TTL", "blocking", "distributed"]}
{"prompt": "Comment configurer le Cache component avec des stratégies de stampede protection ?", "category": "symfony_advanced", "expected_concepts": ["Cache", "stampede", "early expiration", "probabilistic", "locking", "beta"]}
{"prompt": "Comment utiliser le RateLimiter component pour protéger une API ?", "category": "symfony_advanced", "expected_concepts": ["RateLimiter", "fixed window", "sliding window", "token bucket", "storage", "throttle"]}
{"prompt": "Comment implémenter des tests de mutation avec Infection en Symfony ?", "category": "testing_advanced", "expected_concepts": ["mutation testing", "Infection", "mutant", "MSI", "coverage", "quality"]}
{"prompt": "Comment tester des handlers Messenger de manière isolée ?", "category": "testing_advanced", "expected_concepts": ["InMemoryTransport", "MessageBusInterface", "envelope", "stamp", "assertion"]}
{"prompt": "Comment implémenter des tests de contrat avec API Platform ?", "category": "testing_advanced", "expected_concepts": ["contract testing", "OpenAPI", "schema", "validation", "consumer-driven"]}
{"prompt": "Comment profiler et optimiser une application Symfony en production ?", "category": "performance_advanced", "expected_concepts": ["Blackfire", "profiler", "bottleneck", "N+1", "cache", "OPcache", "preloading"]}
{"prompt": "Comment configurer le preloading PHP pour optimiser Symfony ?", "category": "performance_advanced", "expected_concepts": ["preloading", "opcache.preload", "composer", "classmap", "warmup"]}
{"prompt": "Comment implémenter un système de feature flags avec Symfony ?", "category": "architecture_advanced", "expected_concepts": ["feature flag", "toggle", "strategy", "gradual rollout", "A/B testing"]}
{"prompt": "Comment structurer une application Symfony en monorepo multi-bundles ?", "category": "architecture_advanced", "expected_concepts": ["monorepo", "bundle", "composer path", "shared kernel", "dependency"]}
{"prompt": "Comment implémenter le pattern Specification pour des règles métier complexes ?", "category": "architecture_advanced", "expected_concepts": ["Specification", "composite", "and", "or", "not", "isSatisfiedBy"]}
{"prompt": "Comment gérer les Long Running Processes avec Symfony (workers, daemons) ?", "category": "architecture_advanced", "expected_concepts": ["worker", "daemon", "signal", "memory leak", "Supervisor", "graceful shutdown"]}
{"prompt": "Ce code provoque des memory leaks en production:\n```php\nwhile ($messages = $query->iterate()) {\n    foreach ($messages as $message) {\n        $this->process($message);\n    }\n}\n```", "category": "debug_advanced", "expected_concepts": ["memory leak", "clear", "detach", "batch", "gc_collect_cycles"]}
{"prompt": "Mon worker Messenger consomme de plus en plus de mémoire. Comment diagnostiquer ?", "category": "debug_advanced", "expected_concepts": ["memory_limit", "ResetInterface", "doctrine clear", "profiling", "leak"]}
{"prompt": "J'ai des deadlocks avec Doctrine en environnement concurrent. Comment résoudre ?", "category": "debug_advanced", "expected_concepts": ["deadlock", "lock", "transaction isolation", "retry", "optimistic locking", "version"]}
{"prompt": "Comment débugger un problème de serialization circulaire avec le Serializer ?", "category": "debug_advanced", "expected_concepts": ["circular reference", "MaxDepthHandler", "ignore", "groups", "context"]}
{"prompt": "Mon cache Doctrine est incohérent après un déploiement. Comment résoudre ?", "category": "debug_advanced", "expected_concepts": ["cache invalidation", "clear", "warmup", "APCu", "Redis", "version tag"]}
